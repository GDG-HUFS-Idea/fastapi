import json

class PromptBuilder:
    @staticmethod
    def build(data: dict) -> str:
        # 데이터 준비
        idea = data.get('idea', '정보 없음')
        problem = data.get('problem', {})
        solution = data.get('solution', {})
        ksic = data.get('ksic', {})
        market = data.get('market', {})
        similar_services = data.get('similar_services', [])
        opportunities = data.get('opportunities', '정보 없음')
        limitations = data.get('limitations', '정보 없음')
        team = data.get('team', '정보 없음')
        
        # 문제와 해결책 정보 추출
        issues = problem.get('identifiedIssues', [])
        motivation = problem.get('developmentMotivation', '')
        core_elements = solution.get('coreElements', [])
        methodology = solution.get('methodology', '')
        expected_outcome = solution.get('expectedOutcome', '')
        
        # 프롬프트 템플릿 부분
        template = (
            "다음 데이터를 기반으로 상세한 사업화 분석 리포트를 JSON 형식으로 생성해주세요:\n"
            f"## 비즈니스 아이디어 정보 ##\n"
            f"문제점: {', '.join(issues)}\n"
            f"개발 동기: {motivation}\n"
            f"핵심 요소: {', '.join(core_elements)}\n"
            f"방법론: {methodology}\n"
            f"기대 성과: {expected_outcome}\n\n"
            f"## 산업 분류 정보 ##\n"
            f"대분류: {ksic.get('large', {}).get('name', '정보 없음')} ({ksic.get('large', {}).get('code', '정보 없음')})\n"
            f"중분류: {ksic.get('medium', {}).get('name', '정보 없음')} ({ksic.get('medium', {}).get('code', '정보 없음')})\n"
            f"소분류: {ksic.get('small', {}).get('name', '정보 없음')} ({ksic.get('small', {}).get('code', '정보 없음')})\n"
            f"세분류: {ksic.get('detail', {}).get('name', '정보 없음')} ({ksic.get('detail', {}).get('code', '정보 없음')})\n\n"
            f"## 시장 분석 정보 ##\n"
            f"### 국내 시장 ###\n{json.dumps(market.get('domestic', {}), ensure_ascii=False, indent=2)}\n\n"
            f"### 글로벌 시장 ###\n{json.dumps(market.get('global', {}), ensure_ascii=False, indent=2)}\n\n"
            f"## 유사 서비스 정보 ##\n"
            f"{json.dumps(similar_services, ensure_ascii=False, indent=2)}\n\n"
            f"## 기회 요인 ##\n{opportunities}\n\n"
            f"## 한계점 ##\n{limitations}\n\n"
            f"## 팀 구성 정보 ##\n{team}\n\n"
            "반드시 'ksicCode', 'ksicCategory', 'ksicHierarchy' 필드를 포함하여 KSIC 분류 정보를 완벽하게 표시해주세요.\n"
            "KSIC 계층 구조는 대분류, 중분류, 소분류, 세분류 정보를 모두 포함해야 합니다.\n\n"
            "위의 데이터를 종합적으로 분석하여 다음 항목을 포함한 리포트를 작성해주세요:\n"
            "1. 시장 분석:\n"
            " - 국내 시장: 최근 5년간(2020-2025) 시장규모와 성장률(정확한 소수점 표기)\n"
            " - 글로벌 시장: 최근 5년간(2020-2025) 시장규모와 성장률(정확한 소수점 표기)\n"
            " - 국내 업계 평균 매출 수준(달러 기준, 구체적 수치)\n"
            " - 글로벌 업계 평균 매출 수준(달러 기준, 구체적 수치)\n\n"
            "2. 유사 서비스 분석:\n"
            " - 유사도 점수가 높은 상위 5개 서비스를 반드시 구체적인 이름과 함께 제공\n"
            " - 각 서비스마다 다음 정보를 명확하게 포함:\n"
            " * 서비스 이름 (실제 서비스명 필수 포함)\n"
            " * 서비스 URL (실제 존재하는 웹사이트 주소)\n"
            " * 태그(50자 이내 5개 키워드)\n"
            " * 서비스 설명 (300자 이상의 구체적이고 상세한 설명)\n"
            " * 주요 타겟층 (구체적인 인구통계학적 특성 포함)\n"
            " * 한 줄 요약 (서비스의 핵심 가치 제안)\n"
            " * 유사도 점수 (1-100점 사이의 구체적인 수치)\n\n"
            "3. 주 타겟층(최소 3개 이상의 세그먼트 구체적 제시):\n"
            " - 각 세그먼트별 인구통계학적 특성을 상세히 기술\n"
            " - 연령대, 성별, 직업, 소득수준, 관심사 등 구체적 정보 포함\n"
            " - 각 타겟층별 선정 이유와 근거 제시\n"
            " - 각 타겟층의 구체적인 니즈와 페인포인트 설명\n"
            " - 온라인 활동 패턴 (사용 플랫폼, 사용 시간대, 소비 콘텐츠)\n"
            " - 주요 온라인 접점 (구체적인 플랫폼, 서비스명, 이용 형태)\n"
            " - 주요 오프라인 접점 (구체적인 장소, 이용 서비스, 활동 형태)\n\n"
            "4. 예상 비즈니스 모델(구체적 수익 창출 방안):\n"
            " - 한 줄 카피(tagline): 실제 광고에 사용할 수 있는 핵심 가치 제안 문구\n"
            " (예: '당신의 아이디어, 데이터로 검증하다', '무릎에서 시작해 시장을 움직이는 혁신')\n"
            " - 제품이 전달하는 핵심 가치: 고객 문제 해결 방식과 차별화 요소\n"
            " - 가치 전달 메커니즘: 가치 전달 과정과 고객 경험 시나리오\n"
            " - 수익 구조 분석: 주 수익원, 가격 책정 전략, 수익 창출 모델\n"
            " (구독형, 광고형, 프리미엄형, 거래 수수료 등 구체적 모델 제시)\n"
            " - 투자 비용 우선순위: 최소 5가지 이상의 투자 영역과 예상 비용 비율 및 각 항목별 100자 내외의 세부 설명\n"
            " - 손익분기점 예상: 초기 투자 규모와 회수 기간 예측\n\n"
            "5. 마케팅 전략(구체적인 실행 계획):\n"
            " - 각 타겟 고객층별 차별화된 접근 전략과 메시지\n"
            " - 채널별 마케팅 전략 (온라인/오프라인 채널 구분하여 최소 3개 이상)\n"
            " - 주요 마케팅 메시지와 UVP(Unique Value Proposition)\n"
            " - 마케팅 예산 배분 (채널별 구체적 비율과 예산 범위)\n"
            " - 마케팅 성과 측정 KPI와 기대 성과\n"
            " - 단계별 마케팅 전략 (런칭 전, 런칭 시점, 성장기 구분)\n\n"
            "6. 기회 요인 및 관련 지원 사업:\n"
            " - 시장 기회 요인 (최소 5가지, 구체적인 근거와 함께)\n"
            " - 활용 가능한 지원 사업/공모전 (실제 존재하는 프로그램, 신청 시기 포함)\n"
            " - 지원 내용과 금액 (구체적인 지원 범위와 금액 명시)\n\n"
            "7. 한계점:\n"
            " - 법률적 규제 (구체적인 법률명과 조항 포함)\n"
            " - 특허 관련 이슈 (유사 특허 존재 여부, 회피 전략)\n"
            " - 시장 진입 장벽 (기존 업체, 초기 투자 요구 등 구체적 설명)\n"
            " - 기술적 제약 (구현 난이도, 필요 기술, 개발 기간 등)\n\n"
            "8. 예상 필요 팀원(구체적 역할과 인원수):\n"
            " - 핵심 역할 및 직책 (최소 5개 이상의 구체적 직무)\n"
            " - 각 역할별 필요 역량과 경력 수준 상세 기술\n"
            " - 담당 업무 범위와 책임 영역 명확히 정의\n"
            " - 팀 구성 우선순위와 채용 순서 제안\n"
            " - 각 역할별 예상 연봉 범위 (시장 기준)\n"
            " - 조직 구조와 보고 체계 제안\n\n"
            "9. 분야별 점수(100점 만점):\n"
            " - 시장성 (시장 규모, 성장률, 진입 가능성 등 고려)\n"
            " - 실현 가능성 (기술적, 운영적 관점에서 평가)\n"
            " - 수익성 (예상 수익 모델의 지속가능성 평가)\n"
            " - 지속 가능성 (장기적 성장 가능성 평가)\n"
            " - 총점 (평균값, 소수점 첫째 자리까지 표기)\n\n"
            "10. 종합 평가:\n"
            " - 아이디어 강점 요약 (3-5가지 핵심 강점)\n"
            " - 위험 요소 요약 (3-5가지 주요 위험)\n"
            " - 시장 진출 타이밍 제안 (현재/6개월 내/1년 내/2년 내 등 구체적 시점)\n"
            " - 최종 한 줄 평가 (100-150자 이내로 종합적 평가 포함)\n"
            " 형식: '제안하신 아이디어는 [강점 요소]가 강점이 될 수 있고, [위험 요소] 부분에 위험성을 가지고 있습니다. 시장 진출 타이밍은 [구체적 시점]이 적절해 보입니다.'\n"
            "모든 데이터를 활용하여 사업 아이디어의 가능성을 객관적으로 평가해주세요."
        )

        score_explanation = (
            "## 점수 산출 기준 (매우 중요) ##\n"
            "아래 기준에 따라 주어진 데이터를 분석하여 객관적으로 점수를 산출해야 합니다:\n\n"
            "1. 시장성 점수(0-100):\n"
            "   - 시장 규모(40%): 시장 규모가 클수록 높은 점수\n"
            "   - 성장률(30%): 연평균 성장률이 높을수록 높은 점수\n"
            "   - 진입 가능성(30%): 진입장벽이 낮을수록 높은 점수\n\n"
            "2. 기회 점수(0-100):\n"
            "   - 트렌드 부합성(25%): 현재 시장 트렌드와 일치할수록 높은 점수\n"
            "   - 차별화 가능성(25%): 기존 서비스와 차별화 정도에 따라 점수 부여\n"
            "   - 성장 잠재력(25%): 향후 성장 가능성에 따라 점수 부여\n"
            "   - 확장성(25%): 다양한 영역으로 확장 가능성에 따라 점수 부여\n\n"
            "3. 유사서비스 점수(0-100):\n"
            "   - 경쟁 상황(40%): 경쟁이 적을수록 높은 점수\n"
            "   - 차별화 요소(40%): 경쟁사 대비 차별화 정도에 따라 점수 부여\n"
            "   - 시장 포지셔닝(20%): 명확한 포지셔닝 가능성에 따라 점수 부여\n\n"
            "4. 위험성 점수(0-100):\n"
            "   - 법률/규제(25%): 규제가 적을수록 높은 점수\n"
            "   - 특허/IP 이슈(25%): IP 문제가 적을수록 높은 점수\n"
            "   - 진입장벽(25%): 초기 투자 요구가 적을수록 높은 점수\n"
            "   - 기술 구현 난이도(25%): 구현이 쉬울수록 높은 점수\n\n"
            "5. 총점 계산:\n"
            "   - 위 네 가지 점수의 단순 평균값(소수점 첫째 자리까지 표기)\n"
            "   - 예시: (시장성 80 + 기회 70 + 유사서비스 75 + 위험성 65) / 4 = 72.5점\n\n"
            "주의: 하드코딩된 점수를 사용하지 말고, 반드시 위 기준에 따라 객관적으로 점수를 산출하세요.\n"
        )
        
        # 데이터 포맷 템플릿 - 불필요한 필드 제거 및 점수 명확화
        json_format = (
            "{\n"
            ' "ksicCode": "세분류 코드(예: J6211)",\n'
            ' "ksicCategory": "세분류명(예: 시스템 소프트웨어 개발 및 기타 소프트웨어 개발)",\n'
            ' "ksicHierarchy": {\n'
            '   "large": {"code": "대분류 코드", "name": "대분류명"},\n'
            '   "medium": {"code": "중분류 코드", "name": "중분류명"},\n'
            '   "small": {"code": "소분류 코드", "name": "소분류명"},\n'
            '   "detail": {"code": "세분류 코드", "name": "세분류명"}\n'
            ' },\n'
            ' "marketAnalysis": {\n'
            ' "domestic": "국내 시장 분석 내용(출처 포함, 구체적 수치 데이터 포함)",\n'
            ' "global": "글로벌 시장 분석 내용(출처 포함, 한국어로 작성, 구체적 수치 데이터 포함)"\n'
            " },\n"
            ' "growthRates": {\n'
            ' "5YearKorea": "최근 5년간 국내 연평균 성장률(정확한 소수점 표기, 예: 5.75%)",\n'
            ' "5YearGlobal": "최근 5년간 글로벌 연평균 성장률(정확한 소수점 표기, 예: 7.2%)"\n'
            ' "source": "성장률 데이터 출처(구체적 기관명 또는 보고서명 필수 포함)"\n'
            " },\n"
            ' "marketSizeByYear": {\n'
            '  "domestic": [\n'
            '   {"year": 2020, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2021, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2022, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2023, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2024, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2025, "size": "$ 금액(예상)", "growthRate": "성장률(%)"},\n'
            '   {"source": "종합 시장 데이터 출처(구체적 기관명 또는 보고서명 필수 포함)"}\n'
            '  ],\n'
            '  "global": [\n'
            '   {"year": 2020, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2021, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2022, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2023, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2024, "size": "$ 금액", "growthRate": "성장률(%)"},\n'
            '   {"year": 2025, "size": "$ 금액(예상)", "growthRate": "성장률(%)"},\n'
            '   {"source": "종합 시장 데이터 출처(구체적 기관명 또는 보고서명 필수 포함)"}\n'
            '  ]\n'
            ' },\n'
            ' "averageRevenue": {\n'
            ' "domestic": "국내 업계 평균 매출(달러 표기, 예: $500,000)",\n'
            ' "global": "글로벌 업계 평균 매출(달러 표기, 예: $2,500,000)",\n'
            ' "source": "평균 매출 데이터 출처(구체적 기관명 또는 보고서명 필수 포함)"\n'
            " },\n"
            ' "similarServices": [\n'
            " {\n"
            ' "tags": ["태그1", "태그2", "태그3", "태그4", "태그5"],\n'
            ' "name": "구체적인 실제 서비스명(필수)",\n'
            ' "url": "실제 접속 가능한 홈페이지 URL(필수)",\n'
            ' "description": "서비스에 대한 상세 설명(500자 이상)",\n'
            ' "targetAudience": "해당 서비스의 주요 타겟층 상세 설명",\n'
            ' "summary": "서비스를 요약한 한 줄 설명(50자 내외)",\n'
            ' "similarity": 85\n'
            " }\n"
            " ],\n"
            ' "targetAudience": [\n'
            " {\n"
            ' "segment": "구체적인 인구통계학적 특성을 포함한 타겟층 설명(예: 30-40대 직장인)",\n'
            ' "reasons": "이 세그먼트를 타겟으로 선정한 구체적인 이유와 근거",\n'
            ' "interestFactors": "이 세그먼트의 관심사와 흥미 요소 상세 설명",\n'
            ' "onlineActivities": "이 세그먼트의 온라인 활동 패턴과 특성",\n'
            ' "onlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 온라인 채널(구체적 명시)",\n'
            ' "offlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 오프라인 장소/활동(구체적 명시)"\n'
            " },\n"
            " {\n"
            ' "segment": "구체적인 인구통계학적 특성을 포함한 타겟층 설명(예: 20대 초중반 대학생)",\n'
            ' "reasons": "이 세그먼트를 타겟으로 선정한 구체적인 이유와 근거",\n'
            ' "interestFactors": "이 세그먼트의 관심사와 흥미 요소 상세 설명",\n'
            ' "onlineActivities": "이 세그먼트의 온라인 활동 패턴과 특성",\n'
            ' "onlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 온라인 채널(구체적 명시)",\n'
            ' "offlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 오프라인 장소/활동(구체적 명시)"\n'
            " },\n"
            " {\n"
            ' "segment": "구체적인 인구통계학적 특성을 포함한 타겟층 설명(예: 40-50대 소상공인)",\n'
            ' "reasons": "이 세그먼트를 타겟으로 선정한 구체적인 이유와 근거",\n'
            ' "interestFactors": "이 세그먼트의 관심사와 흥미 요소 상세 설명",\n'
            ' "onlineActivities": "이 세그먼트의 온라인 활동 패턴과 특성",\n'
            ' "onlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 온라인 채널(구체적 명시)",\n'
            ' "offlineTouchpoints": "이 세그먼트와 접점을 가질 수 있는 오프라인 장소/활동(구체적 명시)"\n'
            " }\n"
            " ],\n"
            ' "businessModel": {\n'
            ' "tagline": "홍보에 사용할 수 있는 구어체 광고 카피 문구",\n'
            ' "value": "제품/서비스가 전달하는 핵심 가치 명확하게 제시",\n'
            ' "valueDetails": "가치에 대한 세부 설명과 구체적인 고객 혜택",\n'
            ' "revenueStructure": "주요 수익원과 수익 창출 방식에 대한 상세 설명(금액, 모델 등)",\n'
            ' "investmentPriorities": [\n'
            '   {"name": "우선순위1(비중: XX%)", "description": "이 투자 항목에 대한 100자 내외의 상세 설명 - 왜 중요한지, 어떻게 활용될지, 예상 효과는 무엇인지 등 구체적으로 기술"},\n'
            '   {"name": "우선순위2(비중: XX%)", "description": "이 투자 항목에 대한 100자 내외의 상세 설명 - 왜 중요한지, 어떻게 활용될지, 예상 효과는 무엇인지 등 구체적으로 기술"},\n'
            '   {"name": "우선순위3(비중: XX%)", "description": "이 투자 항목에 대한 100자 내외의 상세 설명 - 왜 중요한지, 어떻게 활용될지, 예상 효과는 무엇인지 등 구체적으로 기술"},\n'
            '   {"name": "우선순위4(비중: XX%)", "description": "이 투자 항목에 대한 100자 내외의 상세 설명 - 왜 중요한지, 어떻게 활용될지, 예상 효과는 무엇인지 등 구체적으로 기술"},\n'
            '   {"name": "우선순위5(비중: XX%)", "description": "이 투자 항목에 대한 100자 내외의 상세 설명 - 왜 중요한지, 어떻게 활용될지, 예상 효과는 무엇인지 등 구체적으로 기술"}\n'
            " ],\n"
            ' "breakEvenPoint": "손익분기점 도달 예상 시점과 필요 조건"\n'
            " },\n"
            ' "marketingStrategy": {\n'
            ' "approach": "전반적인 마케팅 접근 방법과 전략적 방향",\n'
            ' "channels": ["채널1(활용도: XX%)", "채널2(활용도: XX%)", "채널3(활용도: XX%)"],\n'
            ' "messages": ["핵심 메시지1", "핵심 메시지2", "핵심 메시지3"],\n'
            ' "budgetAllocation": "채널별 예산 배분과 전체 마케팅 예산 제안",\n'
            ' "kpis": ["핵심 성과 지표1", "핵심 성과 지표2", "핵심 성과 지표3"],\n'
            ' "phasedStrategy": {\n'
            ' "preLaunch": "출시 전 마케팅 전략",\n'
            ' "launch": "출시 시점 마케팅 전략",\n'
            ' "growth": "성장기 마케팅 전략"\n'
            " }\n"
            " },\n"
            ' "opportunities": [\n'
            ' "기회요인1(근거: 구체적 시장 데이터)",\n'
            ' "기회요인2(근거: 구체적 시장 데이터)",\n'
            ' "기회요인3(근거: 구체적 시장 데이터)",\n'
            ' "기회요인4(근거: 구체적 시장 데이터)",\n'
            ' "기회요인5(근거: 구체적 시장 데이터)"\n'
            " ],\n"
            ' "supportPrograms": [\n'
            ' {"name": "지원 프로그램1", "organization": "주관 기관", "amount": "지원 금액", "period": "신청 기간", "details": "지원 내용 상세"},\n'
            ' {"name": "지원 프로그램2", "organization": "주관 기관", "amount": "지원 금액", "period": "신청 기간", "details": "지원 내용 상세"}\n'
            " ],\n"
            ' "limitations": [\n'
            ' {"category": "법률/규제", "details": "구체적인 법률명과 조항", "impact": "영향", "solution": "대응 방안"},\n'
            ' {"category": "특허/지적재산권", "details": "관련 특허 정보", "impact": "영향", "solution": "대응 방안"},\n'
            ' {"category": "시장 진입장벽", "details": "구체적 장벽 요소", "impact": "영향", "solution": "대응 방안"},\n'
            ' {"category": "기술적 제약", "details": "구현 난이도, 필요 기술", "impact": "영향", "solution": "대응 방안"}\n'
            " ],\n"
            ' "requiredTeam": {\n'
            ' "roles": [\n'
            " {\n"
            ' "title": "직책명",\n'
            ' "skills": "필요 역량 및 경력 요건 상세",\n'
            ' "responsibilities": "담당 업무 범위 구체적 설명",\n'
            ' "priority": "채용 우선순위(1-5 단계)",\n'
            " },\n"
            " {\n"
            ' "title": "직책명",\n'
            ' "skills": "필요 역량 및 경력 요건 상세",\n'
            ' "responsibilities": "담당 업무 범위 구체적 설명",\n'
            ' "priority": "채용 우선순위(1-5 단계)",\n'
            " },\n"
            " {\n"
            ' "title": "직책명",\n'
            ' "skills": "필요 역량 및 경력 요건 상세",\n'
            ' "responsibilities": "담당 업무 범위 구체적 설명",\n'
            ' "priority": "채용 우선순위(1-5 단계)",\n'
            " },\n"
            " {\n"
            ' "title": "직책명",\n'
            ' "skills": "필요 역량 및 경력 요건 상세",\n'
            ' "responsibilities": "담당 업무 범위 구체적 설명",\n'
            ' "priority": "채용 우선순위(1-5 단계)",\n'
            " },\n"
            " {\n"
            ' "title": "직책명",\n'
            ' "skills": "필요 역량 및 경력 요건 상세",\n'
            ' "responsibilities": "담당 업무 범위 구체적 설명",\n'
            ' "priority": "채용 우선순위(1-5 단계)",\n'
            " }\n"
            " ],\n"
            " },\n"
            ' "scores": {\n'
            ' "market": "주어진 데이터를 기반으로 시장성 점수 산출 (0-100 사이 값)",\n'
            ' "opportunity": "주어진 데이터를 기반으로 기회 점수 산출 (0-100 사이 값)",\n'
            ' "similarService": "주어진 데이터를 기반으로 유사서비스 점수 산출 (0-100 사이 값)",\n'
            ' "risk": "주어진 데이터를 기반으로 위험성 점수 산출 (0-100 사이 값)",\n'
            ' "total": "위 네 가지 점수의 평균값 (소수점 첫째 자리까지)"\n'
            " },\n"
            ' "oneLineReview": "제안하신 아이디어는 [강점 요소]가 강점이 될 수 있고, [위험 요소] 부분에 위험성을 가지고 있습니다. 실현 가능성은 [높음/중간/낮음]이며, 지속 가능성은 [높음/중간/낮음]입니다. 시장 진출 타이밍은 [구체적 시점]이 적절해 보입니다."\n'
            "}"
        )

        # 최종 프롬프트 조합
        final_prompt = (
            f"## 중요: 다음 점수 산출 기준을 반드시 따라주세요 ##\n"
            f"{score_explanation}\n\n"
            f"{template}\n\n"
            f"반드시 아래의 정확한 JSON 형식으로 응답해주세요:\n"
            f"{json_format}\n\n"
            f"응답은 반드시 유효한 JSON 형식이어야 합니다.\n"
            f"모든 분석에 출처를 반드시 포함해주세요.\n"
            f"모든 텍스트는 한국어로 작성해주세요.\n"
            f"주어진 데이터를 적극 활용하되, 필요한 경우 합리적인 추론으로 보완해주세요.\n"
            f"특히 시장 분석, 성장률, 평균 매출 부분은 반드시 구체적인 수치로 작성해주세요.\n"
            f"유사 서비스는 반드시 실제 존재하는 서비스명과 URL을 포함해주세요.\n"
            f"주 타겟층은 구체적인 인구통계학적 특성을 포함하고 최소 3개 이상 제시해주세요.\n"
            f"비즈니스 모델은 구체적인 수익 창출 방식과 금액 추정을 포함해주세요.\n"
            f"각 투자 우선순위 항목에는 반드시 100자 내외의 세부 설명을 포함해야 합니다.\n"
            f"점수는 반드시 위에 제시된 점수 산출 기준에 따라 계산하고, 하드코딩된 값을 사용하지 마세요.\n"
            f"최종 한줄평은 '[강점] 요소가 강점이 될 수 있고, [위험요소] 부분에 위험성을 가지고 있습니다. 실현 가능성은 [높음/중간/낮음]이며, 지속 가능성은 [높음/중간/낮음]입니다. 시장 진출 타이밍은 [구체적 시점]이 적절해 보입니다.' 형식을 따라주세요.\n"
        )
        
        return final_prompt
